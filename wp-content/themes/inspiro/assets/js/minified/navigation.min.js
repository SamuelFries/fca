(a=>{let c=a(document),i=a(window);a.fn.TopMenuMargin=function(){function e(){a(window).width();var e=a(".site-header");a("#main").css("paddingTop",e.outerHeight()),a("#wpadminbar"),a(window).width(),a(window).height()}a(window).on("resize orientationchange",e),e()},a.fn.sideNav=function(){let s=!1;function n(){a(document.body).toggleClass("side-nav-open").addClass("side-nav-transitioning");var e=a("#slider").data("flexslider");e&&(a(document.body).hasClass("side-nav-open")?(s=e.playing,e.playing&&e.pause()):s&&e.play());let n=!1;a(".site").one("transitionend",function(){a(document.body).removeClass("side-nav-transitioning"),n=!0}),setTimeout(function(){n||a(document.body).removeClass("side-nav-transitioning"),i.trigger("resize")},230)}a(".navbar-toggle, .side-nav-overlay").on("click touchend",function(){a(document.body).hasClass("side-nav-transitioning")||(n(),a.fn.keepFocusInMobileSidebar())}),c.on("keyup",function(e){27===e.keyCode&&a(document.body).hasClass("side-nav-open")&&n()}),a(".side-nav__scrollable-container").on("touchstart",function(){var e=this.scrollTop;e<=0&&(this.scrollTop=1),e+this.offsetHeight>=this.scrollHeight&&(this.scrollTop=this.scrollHeight-this.offsetHeight-1)})},a.fn.sbSearch=function(){return c.on("keyup",function(e){27===e.keyCode&&a("#sb-search").hasClass("sb-search-open")&&a("#sb-search").removeClass("sb-search-open")}),this.each(function(){new UISearch(this)})},a.fn.keepFocusInSearchModal=function(){c.on("keydown",function(e){var n,s,i,o,t;a("#sb-search").hasClass("sb-search-open")&&(i=c.find("#sb-search").find("input, a, button"),s=(i=Array.prototype.slice.call(i))[i.length-1],i=i[0],n=document.activeElement,o=9===e.keyCode,!(t=e.shiftKey)&&o&&s===n&&(e.preventDefault(),i.focus()),t)&&o&&i===n&&(e.preventDefault(),s.focus())})},a.fn.keepFocusInMobileSidebar=function(){c.on("keydown",function(e){var n,s,i,o,t;a(document.body).hasClass("side-nav-open")&&(i=c.find("aside#side-nav").find("input, a, button"),s=(i=Array.prototype.slice.call(i))[i.length-1],i=i[0],n=document.activeElement,o=9===e.keyCode,!(t=e.shiftKey)&&o&&s===n&&(e.preventDefault(),i.focus()),t)&&o&&i===n&&(e.preventDefault(),s.focus())})},a(function(){a.fn.sideNav(),a("#sb-search").sbSearch(),a.fn.keepFocusInSearchModal(),a(".sf-menu").superfish({speed:"fast",animation:{height:"show"},animationOut:{height:"hide"}}),a(".site-header").headroom({tolerance:{up:0,down:0},offset:70}),a(".side-nav .navbar-nav li.menu-item-has-children > a .svg-icon").on("click",function(e){e.preventDefault();var e=a(this).closest("li"),n=e.find("> ul");n.is(":visible")?(n.slideUp(),e.removeClass("open")):(n.slideDown(),e.addClass("open"))})})})(jQuery);